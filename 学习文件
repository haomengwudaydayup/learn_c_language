程序员的自我修养

程序的运行
一个可执行文件的诞生经历了 预处理、编译、汇编、链接四个过程

一、预编译 -.i文件
gcc编译器： $gcc -E hello.c -o hello.i (hello为文件名)
或   $cpp hello.c > helloc.i
预编译过程主要处理哪些源代码文件的以“#”开始的预编译指令，比如“#include"、”#define"等
分为如下步骤：
1、将所有的“#define”删除，并且展开所有的宏定义（宏替换）
2、处理所有条件预编译指令，比如：“#if”，“#endif”，“#elif”，“#else”等//（有些是注释）
3、处理“#include”预编译指令，将被包含的文件插入到该与编译指令的位置。 这个过程是递归的，可能被包含的文件包含其他文件
4、删除所有的注释“//” 和“/* */”。
5、添加行号和文件名标识 #2 “hello.c"2，
6、保留所有的#pragma编译器指令，因为编译器须要使用它们
经过预编译后的.i文件不包含任何宏定义，因为所有的宏已经被展开，并且包含的文件
经过预编译处理过的文件，他是不会没有宏、注释、文件名的

二、编译 -.s文件
编译过程就是把预处理完的文件进行一系列词法分析、语法分析、语义分析及优化后生产相应的
*（汇编代码文件），这个过程往往是我们所说的整个程序构建的核心部分，也是最复杂的部分之一。
$gcc -S hello.i -o hello.s，现在版本的GCC把预编译和编译两个步骤合并成为一个步骤。

三、汇编 -.o文件
汇编器是将汇编代码转变成机器可以执行的指令，每一个汇编语句几乎都对应一条机器指令。
汇编会将文件转化成目标文件
$as hello.s -o hello.o
$gcc -c hello.s -o hello.o

四、链接

